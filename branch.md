## Создание ветки и переключение на ветку

Ветка **master** - это, как правило, основная ветка проекта.

 Она появляется сразу после клонирования или инициализации репозитория. Есть разные варианты ведения веток, но мы будем считать, что **master** - наша основная рабочая ветка, от которой ответвляются другие.

### Как создать новую ветку

    $ git checkout -b news
    Switched to a new branch 'news'

Так мы создали новую ветку news, имея в виду, что будем разрабатывать в ней блок новостей.

### Как переключаться между ветками

Для этого используется команда ***checkout***


    $ git checkout news 

если есть незакоммиченные изменения, то переключиться на другую ветку не получится **- git** за этим следит
Вот что при этом


    $ git checkout master 
    error: Your local changes to the following files would be overwritten by checkout:
            index.html
    Please, commit your changes or stash them before you can switch branches.
    Aborting

Поэтому сначала или закоммитьте изменения в ветке, или откатите эти изменения - а уже потом переключайтесь. Это может показаться странным, но так сделано для безопасности, чтобы случайно не потерять код.

### Как посмотреть все ветки

    $ git branch
      master
    * news

Этой командой мы выведем список всех локальных веток. Звездочка у news означает текущую ветку, в которой мы сейчас находимся.

### Коммитим в новую ветку

Коммиты в ветку добавляются точно так же, как и раньше. Делаем изменения в файлах, потом ***git add***, потом ***git commit -m 'commit message'***.

### Как запушить новую ветку

Вспомним, как мы пушили раньше


    $ git push origin master

Точно так же мы пушим и новую ветку, только вместо **master** указываем свое название


    $ git push origin news

Если такой ветки на сервере нет, то она создастся. Если мы ее уже пушили раньше, то просто отправятся новые коммиты.

### Как переименовать ветку

Допустим, мы неудачно выбрали название и хотим его заменить. Находясь в нужной ветке, выполним команды


    $ git branch -m block-news

Это переименует текущую ветку news в **block-news**. Чтобы убедиться, посмотрим список веток


    $ git branch 
    * block-news
      master

Обратите внимание, если мы запушим новую ветку, то на сервере, в **github**, появится еще одна ветка **block-news**, и при этом останется старая news. Чтобы не засорять проект, старую ветку нужно удалить как локальную у себя, так и удаленную на сервере.

### Как удалить ветку

Удаляется ветка командой ***git branch -d branch_name***.
 Но здесь могут быть варианты. Рассмотрим, что может пойти не так


    $ git branch -d block-news 
    error: Cannot delete the branch 'block-news' which you are currently on.

Здесь просто - мы не можем удалить ветку, потому что в ней находимся. Сначала нужно перелючиться в мастер


    $ git checkout master 
    $ git branch -d block-news 
    error: The branch 'block-news' is not fully merged.
    If you are sure you want to delete it, run 'git branch -D block-news'.

Опять ошибка - здесь **git** говорит о том, что в удаляемой ветке есть код, который не залит в мастер. То есть при удалении ветки этот код потеряется. Поэтому если мы уверены в своих действиях и ветка действительно не нужна, то вместо флага -d нужен -D


    $ git branch -D block-news 
    Deleted branch block-news (was cb38a55).

    Теперь удалено.